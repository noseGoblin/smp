var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,s=0;s<i;s++){var a=e[s];if(t.call(n,a,s,e))return{i:s,v:a}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,i){if(t){for(n=$jscomp.global,e=e.split("."),i=0;i<e.length-1;i++){var s=e[i];s in n||(n[s]={}),n=n[s]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e){function t(){return matchMedia("(min-width:768px)").matches}var n=function(e,t,n){var i;return function(){var s=this,a=arguments,o=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(s,a)},t),o&&e.apply(s,a)}};Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return e.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});var i=function(){return function(t,n){this.defaults={menutype:"dropdown",animationSpeed:400,toggle:"toggle-menu",menu:"cm-menu",htmlClass:"cm-js-menu-active",expanderText:"expand / collapse",landings:!1,expanders:!1,singleClick:!0,fadeObject:"#cmlla"};var i=e(t).data()||{};this.options=e.extend({},this.defaults,i,n),this.menu=t,this.$menu=e(t),this.$menuBar=this.$menu.find("."+this.options.menu),this.$menuToggle=this.$menu.find("."+this.options.toggle),this.isActive=!1,this.lastEventType,this.currentFocus=0,this.initialLinks=[],this.currentLinks=[],this.keyHandler=e.proxy(this.keyHandler,this),this.showMenu=e.proxy(this.showMenu,this),this.hideMenu=e.proxy(this.hideMenu,this),this.menuToggle=e.proxy(this.menuToggle,this),this.fadeToggle=e.proxy(this.fadeToggle,this),this.subMenuToggle=e.proxy(this.subMenuToggle,this),this.menuHandler=e.proxy(this.menuHandler,this),this.menuToggleHandler=e.proxy(this.menuToggleHandler,this),this.init()}}();i.prototype.init=function(){var t=this;t.$menuToggle.on("click touchstart",t.menuToggle),t.$menu.addClass("cm-js-enabled").attr({role:"navigation",tabindex:"0"}),t.$menuBar.attr("role","menubar");var i=1;if(0<e("[id^='cm-dropdown']").last().length){var s=0;e("[id^='cm-dropdown']").each(function(){var t=e(this).attr("id").split("dropdown")[1];s=t&&s<parseInt(t,10)?parseInt(t,10):s}),i=s+1}t.$menu.on("keydown",t.keyHandler),t.$menu.on("focus",function(){t.$menuToggle.is(":visible")&&!t.isActive&&t.showMenu(),t.$menu.hasClass("cm-js-inFocus")||t.isActive||(t.$menu.addClass("cm-js-inFocus").attr("tabindex","-1"),t.currentLinks[t.currentFocus].attr("tabindex","0").focus())}),t.initialLinks=[],t.$menu.find("."+t.options.menu+" a").each(function(){var s=e(this),a=s.closest("li");if(s.attr({role:"menuitem",tabindex:"-1"}),a.attr("role","presentation"),!a.data("type")&&a.parent().hasClass(t.options.menu)&&a.attr("data-type",t.options.menutype),0<s.siblings().not("a").length){var o=s.siblings(),r="cm-dropdown"+i;if(t.options.expanders){var l=e("<a id='"+r+"' href='#' role='menuitem' aria-haspopup='true' class='has-sub' tabindex='-1'><span><span class='visually-hidden'>"+t.options.expanderText+"</span></span></a>");s.wrap("<div class='expander-wrap'></div>").after(l),l.on("click",t.subMenuToggle)}else s.attr("id")?r=s.attr("id"):s.attr("id","cm-dropdown"+i),s.attr({"aria-haspopup":"true"}).addClass("has-sub").on("click",t.subMenuToggle);var u=0<o.height();if(o.attr({role:"menu","aria-expanded":u,"aria-hidden":!u,"aria-labelledby":r}),t.options.landings&&!t.options.expanders&&(u=e(o.is("ul")?"<li class='link-landing'>"+s.get(0).outerHTML+"</li>":"<div class='link-landing'>"+s.get(0).outerHTML+"</div>"),u.children().removeAttr("aria-haspopup class id"),u.find("a").removeClass("has-sub"),o.prepend(u)),a.data("type")&&"sliding"===a.data("type")){u=e("<div class='sub-menu cm-js-inactive'></div>"),o.wrap(u);var c=function(){var e=t.$menu.innerWidth(),n=a.position().left,i=a.children(".sub-menu");i.find("> ul > li > ul").innerWidth(e),i.innerWidth(e).css("left","-"+n+"px")},d=n(c,300);e(window).load(function(){c(),e(window).resize(d)})}r==="cm-dropdown"+i&&i++}s.closest("[role]:not(a)").data("type")&&(t.initialLinks.push(s),t.options.expanders&&t.initialLinks.push(l))}),t.currentLinks=t.initialLinks},i.prototype.keyHandler=function(e){if(this.$menu.hasClass("cm-js-inFocus")||this.$menu.addClass("cm-js-inFocus").attr("tabindex","-1"),37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){e.preventDefault();var t=this.currentLinks[this.currentFocus];if(t){var n,i=t.closest("[role]:not(a)").attr("data-type"),s=t.closest("[role=menu]:not(a)").closest("[role=presentation]").attr("data-type");if(i){if(37===e.keyCode)var a="prev";else if(39===e.keyCode)a="next";else if(40===e.keyCode||38===e.keyCode)var o=!0}else 38===e.keyCode?a="prev":40===e.keyCode?a="next":39===e.keyCode?o=!0:s||37!==e.keyCode||(n=!0);if(a){this.currentFocus="prev"===a?0<=this.currentFocus-1?this.currentFocus-1:this.currentLinks.length-1:this.currentFocus+1<this.currentLinks.length?this.currentFocus+1:0;var r=this.currentLinks[this.currentFocus]}r?(t.attr("tabindex","-1"),this.currentLinks[this.currentFocus].attr("tabindex","0").focus()):n?this.$menu.find(".opened").last().find("[aria-haspopup]").first().trigger("click"):o&&(t.closest("li").hasClass("clicked")||this.currentLinks[this.currentFocus].trigger("click"))}}else 27===e.keyCode?(e.preventDefault(),this.$menu.find(".opened").last().find("[aria-haspopup]").first().trigger("click")):32===e.keyCode&&(e.preventDefault(),this.currentLinks[this.currentFocus].trigger("click"))},i.prototype.cleanUpEvents=function(){this.$menu.find("li a").off("click",this.subMenuToggle),this.$menu.find("li a[tabindex=0]").attr("tabindex","-1"),this.$menu.off("focus"),this.$menu.off("keydown",this.keyHandler),e("html").off("click touchstart focusin",this.menuHandler),e("html").off("click touchstart",this.menuToggleHandler)},i.prototype.destroy=function(){this.$menu.removeClass("cm-js-enabled cm-js-inFocus"),this.$menu.find("li").removeClass("opened animating animated"),this.cleanUpEvents()},i.prototype.showMenu=function(){var n=this;n.isActive=!0,n.$menu.addClass("cm-js-active"),n.$menuToggle.addClass("active"),e("html").addClass(n.options.htmlClass),n.$menu.focus(),e("html").off("click touchstart",n.menuToggleHandler),t()&&setTimeout(function(){e("html").addClass(n.options.htmlClass).on("click touchstart focusin",n.menuToggleHandler)},n.options.animationSpeed),n.fadeToggle(!0)},i.prototype.hideMenu=function(){this.isActive=!1,this.$menu.removeClass("cm-js-active cm-js-inFocus"),this.$menuToggle.removeClass("active"),t()&&e("html").removeClass(this.options.htmlClass).addClass("cm-animate-out").off("click touchstart focusin",this.menuToggleHandler),setTimeout(function(){e("html").removeClass("cm-animate-out")},this.options.animationSpeed),this.fadeToggle(!0)},i.prototype.menuToggle=function(e){e.preventDefault(),"touchstart"===this.lastEventType&&"click"===e.type||(this.isActive?this.hideMenu():this.showMenu()),this.lastEventType=e.type},i.prototype.fadeToggle=function(t,n){var i=e(this.$menu),s=e(this.options.fadeObject);t?s.toggleClass("activeMobi"):i.find(".toggle-menu").is(":visible")||(n&&s.hasClass("active")&&!i.find(".cm-menu>li").hasClass("opened")?(s.removeClass("active"),setTimeout(function(){s.removeClass("opened")},this.options.animationSpeed)):!s.hasClass("active")&&i.find(".cm-menu>li").hasClass("opened")&&s.addClass("opened active"))},i.prototype.subMenuToggle=function(n){var i=this,s=e(n.currentTarget),a=s.closest("li"),o=s.closest("[data-type]").data("type"),r=e("[aria-labelledby="+s.attr("id")+"]");a.hasClass("opened")?(e("html").off("click touchstart focusin",i.menuHandler),i.options.singleClick&&(n.preventDefault(),"sliding"===o&&a.parents(".sub-menu").hasClass("sub-menu")&&a.parents(".sub-menu").addClass("cm-js-inactive"),a.removeClass("opened animating animated"),0<i.$menu.find(".opened").length&&e("html").on("click touchstart focusin",i.menuHandler),r.attr({"aria-expanded":"false","aria-hidden":"true"}),e.each(i.currentLinks,function(){this.attr("tabindex","-1")}),i.currentLinks=[],setTimeout(function(){if(a.data("type"))i.currentLinks=i.initialLinks,i.currentFocus=a.index();else{var t=0;a.closest("[role=menu]").find("a").each(function(n,a){n=e(a),10<n.closest("[role=menu]").height()&&10<n.closest("[role=menu]").width()&&(i.currentLinks.push(n),s.attr("id")===n.attr("id")&&(i.currentFocus=t),t++)})}s.attr("tabindex","0").focus()},i.options.animationSpeed)),i.fadeToggle(!1,!0)):(n.preventDefault(),a.addClass("opened animating").siblings().removeClass("opened animating animated").find(".opened").removeClass("opened animating animated"),a.siblings().find(".sub-menu").addClass("cm-js-inactive"),"sliding"===o&&0<a.parents(".sub-menu").length&&a.parents(".sub-menu").removeClass("cm-js-inactive"),r.attr({"aria-expanded":"true","aria-hidden":"false"}),e.each(i.currentLinks,function(){this.attr("tabindex","-1")}),i.currentLinks=[],setTimeout(function(){a.hasClass("animating")&&a.removeClass("animating").addClass("animated"),a.find("[role=menu]").first().find("a").each(function(t,n){t=e(n),10<t.closest("[role=menu]").height()&&10<t.closest("[role=menu]").width()&&i.currentLinks.push(t)}),"false"==a.find(".sub-menu-list").first().attr("aria-expanded")&&i.currentLinks[0].trigger("click"),"sub-menu cm-js-inactive"==a.find(".sub-menu").attr("class")&&i.currentLinks[0].trigger("click"),i.currentFocus=0,i.currentLinks[i.currentFocus].attr("tabindex","0").focus(),t()&&e("html").on("click touchstart focusin",i.menuHandler)},i.options.animationSpeed),i.fadeToggle(!1,!1))},i.prototype.menuToggleHandler=function(t){e.contains(this.menu,t.target)||(this.$menu.find("."+this.options.toggle).trigger("click"),e("html").removeClass(this.options.htmlClass).off("click touchstart",this.menuToggleHandler))},i.prototype.menuHandler=function(t){e.contains(this.menu,t.target)||this.$menu.is(e(t.target))||(this.$menu.find(".opened").removeClass("opened animated animating"),this.$menu.find("[role=menu]").attr({"aria-expanded":"false","aria-hidden":"false"}),this.$menu.find(".sub-menu").addClass("cm-js-inactive"),this.$menu.find("li a[tabindex=0]").attr("tabindex","-1"),this.currentLinks=this.initialLinks,this.currentFocus=0,e(".cm-js-inFocus").removeClass("cm-js-inFocus").attr("tabindex","0"),e("html").off("click touchstart focusin",this.menuHandler),this.fadeToggle(!1,!0))},e.fn.clickMenu=function(){var e,t=arguments[0],n=Array.prototype.slice.call(arguments,1),s=this.length,a=0;for(a;a<s;a++)if("object"==typeof t||"undefined"==typeof t?this[a].clickMenu=new i(this[a],t):e=this[a].clickMenu[t].apply(this[a].clickMenu,n),"undefined"!=typeof e)return e;return this}}(jQuery);